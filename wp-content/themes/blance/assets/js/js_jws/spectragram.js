"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,a,s){var i={API_URL:"https://api.instagram.com/v1",initialize:function(e,a){this.elem=a,this.$elem=t(a),this.accessData=t.fn.spectragram.accessData,this.accessToken=this.accessData.accessToken,this.clientID=this.accessData.clientID,this.userCredentials=this.clientID+"&access_token="+this.accessToken,this.options=t.extend({},t.fn.spectragram.options,e),this.messages={defaultImageAltText:"Instagram Photo related with "+this.options.query,notFound:"This user account is private or doesn't have any photos."}},getRecentMedia:function(t){var e=this,a="/users/"+t+"/media/recent/?"+e.userCredentials;e.fetch(a).done(function(t){e.display(t)})},getUserFeed:function(){var e=this,a="/users/search?q="+e.options.query+"&count="+e.options.max+"&access_token="+e.accessToken,s=!1;e.fetch(a).done(function(a){if(a.data.length)for(var i=a.data.length,n=0;i>n;n++)a.data[n].username===e.options.query&&(e.getRecentMedia(a.data[n].id),s=!0);s===!1&&t.error("Spectragram.js - Error: the username "+e.options.query+" does not exist.")})},getPopular:function(){var t=this,e="/media/popular?client_id="+t.userCredentials;t.fetch(e).done(function(e){t.display(e)})},getRecentTagged:function(){var e=this,a="/tags/"+e.options.query+"/media/recent?client_id="+e.userCredentials;e.fetch(a).done(function(a){a.data.length?e.display(a):t.error("Spectragram.js - Error: the tag "+e.options.query+" does not have results.")})},fetch:function(e){var a=this.API_URL+e;return t.ajax({type:"GET",dataType:"jsonp",cache:!1,url:a})},display:function(e){var a,i,n,o,r,c,h,d,u,l=[];if(n=0===t(this.options.wrapEachWith).length,e.data===s||200!==e.meta.code||0===e.data.length)n?this.$elem.append(this.messages.notFound):this.$elem.append(t(this.options.wrapEachWith).append(this.messages.notFound));else{h=this.options.max>=e.data.length?e.data.length:this.options.max,d=this.options.size;for(var p=0;h>p;p++)"small"===d?(u=e.data[p].images.thumbnail.url,r=e.data[p].images.thumbnail.height,c=e.data[p].images.thumbnail.width):"medium"===d?(u=e.data[p].images.low_resolution.url,r=e.data[p].images.low_resolution.height,c=e.data[p].images.low_resolution.width):(u=e.data[p].images.standard_resolution.url,r=e.data[p].images.standard_resolution.height,c=e.data[p].images.standard_resolution.width),o=null!==e.data[p].caption?t("<span>").text(e.data[p].caption.text).html():this.messages.defaultImageAltText,i=t("<img>",{alt:o,attr:{height:r,width:c},src:u}),a=t("<a>",{href:e.data[p].link,target:"_blank",title:o}).append(i),n?l.push(a):l.push(t(this.options.wrapEachWith).append(a));this.$elem.append(l)}"function"==typeof this.options.complete&&this.options.complete.call(this)}};jQuery.fn.spectragram=function(e,a){jQuery.fn.spectragram.accessData.clientID?this.each(function(){var s=Object.create(i);return s.initialize(a,this),s[e]?s[e](this):void t.error("Method "+e+" does not exist on jQuery.spectragram")}):t.error("You must define an accessToken and a clientID on jQuery.spectragram")},jQuery.fn.spectragram.options={complete:null,max:10,query:"instagram",size:"medium",wrapEachWith:"<li></li>"},jQuery.fn.spectragram.accessData={accessToken:null,clientID:null}}(jQuery,window,document);